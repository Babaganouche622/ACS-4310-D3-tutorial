<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <svg id="svg" width="800" height="500">
    <circle cx="250" cy="250" r="123" fill="#0ff" />
  </svg>

  <script src="https://d3js.org/d3.v7.min.js"></script>
  <!-- <script>
    d3.select('body')        // select an element to host
      .selectAll('div')			 // select all the elements you want to work with
      .data([5,6,2,8,4,9,1]) // define your data
      .enter()               // enter your data
      .append('div')         // append elements
      .text(d => `$${d.toFixed(2)}`) // Format the numbers
      .style('padding', '1em') // padding: 1em
      .style('background-color', 'red') // background-color: red
      .style('margin', '1px') // margin: 1px
      .style('width', (d) => `${d / 10 * 100}%`) // set width based on data
  </script> -->
  <!-- <script>
    function makeRandomData(n) {
      const array = []
      for (let i = 0; i < n; i += 1) {
        array.push({ a: Math.random(), b: Math.random(), c: Math.random() })
      }
      return array
    }
    const data = makeRandomData(20)

    d3.select('#svg')
      .style('border', '1px solid')
      // select all <circle>s in #svg
      .selectAll('circle')
      .data(data) // add some data
      .enter() // enter the data
      .append('circle')
      // Set attributes for SVG circles
      .attr('cx', (d, i) => i * 500 / data.length)
      .attr('cy', d => d.a * 500)
      .attr('r', d => d.c * 100)
      .attr('fill', d => 'green')
      .attr('opacity', () => 0.5)
      .attr('stroke', d => `hsl(${360 * d.b}, 100%, 50%)`)
      .attr('stroke-width', d => d.b * 10)
  </script> -->
  <script>
    d3.csv('country.csv')
      .then(data => {
        const xScale = d3.scaleLinear()
          .domain([-150, 150])
          .range([0, 800])
        const yScale = d3.scaleLinear()
          .domain([-50, 50])
          .range([0, 500])
        const countryScale = d3.scaleOrdinal()
          .domain(['USA', 'Pakistan', 'Italy', 'Brazil'])
          .range(['cornflowerblue', 'gold', 'gold', 'tomato'])
        const popScale = d3.scaleLinear()
          .domain([525010, 14910352])
          .range([10, 100])

        d3.select('#svg')
          .style('border', '1px solid')
          // select all <circle>s in #svg
          .selectAll('circle')
          .data(data)
          .enter()
          .append('circle')
          .attr('cx', d => xScale(d.x))
          .attr('cy', d => yScale(d.y))
          .attr('r', d => popScale(d.population))
          .attr('fill', `red`)
          .attr('opacity', 0.25)
          .attr('fill', d => countryScale(d.country))
      })
  </script>
</body>

</html>